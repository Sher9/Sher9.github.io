import{_ as x,b,r as B,y as N,a1 as S,e as n,o as u,f as A,l as a,k as o,u as t,q as E,j as g,K as h,F as R,d as T,a0 as w,E as p,M as U}from"./element-Di_zbn_f.js";import{b as q,u as I}from"./config-D2WKA8SM.js";const M={class:"dialog-footer"},O=T({name:"workflowDetail"}),z=Object.assign(O,{props:{rowData:{type:Object},isAdd:{type:Boolean}},emits:["refreshData","handleClose"],setup(D,{emit:F}){const{proxy:v}=U(),d=D;b(!1);const l=b(!1),e=B({workForm:{jobDesc:"",author:""},rules:{jobDesc:[{required:!0,message:"请输入任务组描述",trigger:"blur"}]}}),{workForm:s,rules:y}=N(e),c=F;d.isAdd||(e.workForm=S(d.rowData));const C=()=>{v.$refs.detailFormRef.validate(f=>{if(delete e.workForm.addTime,delete e.workForm.updateTime,delete e.workForm.glueUpdatetime,f)e.isSaving=!0,d.isAdd?q(e.workForm).then(()=>{w({type:"success",message:"新增成功!"}),e.isSaving=!1,c("refreshData")}).catch(()=>l.value=!1):I(e.workForm).then(()=>{w({type:"success",message:"编辑成功!"}),e.isSaving=!1,c("refreshData")}).catch(()=>l.value=!1);else return})},V=()=>{c("handleClose")};return(f,r)=>{const _=n("el-input"),k=n("el-form-item"),j=n("el-form"),m=n("el-button");return u(),A(R,null,[a(j,{ref:"detailFormRef",model:t(s),rules:t(y),"label-width":"180px",size:"small",inline:!0,class:"editForm"},{default:o(()=>[a(k,{label:"任务组描述:",prop:"jobDesc"},{default:o(()=>[a(_,{modelValue:t(s).jobDesc,"onUpdate:modelValue":r[0]||(r[0]=i=>t(s).jobDesc=i),placeholder:"请输入任务组描述"},null,8,["modelValue"])]),_:1}),a(k,{label:"负责人:",prop:"jobDesc"},{default:o(()=>[a(_,{modelValue:t(s).author,"onUpdate:modelValue":r[1]||(r[1]=i=>t(s).author=i),placeholder:"请输入负责人"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),E("div",M,[t(l)?h("",!0):(u(),g(m,{key:0,type:"primary",onClick:C},{default:o(()=>[p("保存")]),_:1})),t(l)?(u(),g(m,{key:1,type:"primary",loading:!0},{default:o(()=>[p("保存中")]),_:1})):h("",!0),a(m,{onClick:V},{default:o(()=>[p("取消")]),_:1})])],64)}}}),G=x(z,[["__scopeId","data-v-6e1a2136"]]);export{G as default};
